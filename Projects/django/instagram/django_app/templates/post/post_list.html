{% extends 'common/base.html' %}

{% block content %}
<div class="post-list-container">
  {% for post in posts %}
    {{ post.id }} | {{ post.author.username }}<br>
    <div>
      <a href="{% url 'post:detail' post_id=post.id %}">
        <img src="{{ MEDIA_URL }}{{ post.photo }}">
      </a>
    </div>

    <div>{{ post.content|linebreaksbr|truncatechars:100 }}</div>

    <hr>
    {% if post.comment_set.all %}
      {% for comment in post.comment_set.all %}
        <div>{{ comment.content }}</div>
      {% endfor %}
    {% else %}
      <p>No comments</p>
    {% endif %}
    <hr>
  {% endfor %}
</div>

{% endblock %}

{#각 post에 연결된 Comment object list를 출력#}
